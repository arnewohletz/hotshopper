{% extends 'ingredients.html' %}

{% block add_ingredient_screen %}
<script type="text/javascript">
    ingredients = "{{ ingredients }}"
    locations = "{{ locations }}"
    selected_location_id = "{{ location }}"
</script>
<script src="{{ url_for('static', filename='add_ingredient_screen.js') }}"></script>

<div id="add_ingredient_screen" class="ontop_screen">
    <h2>
        <table>
            <tr>
                <td>Neue Zutat</td>
            </tr>
        </table>
    </h2>

    <div>
        <table>
            <tr>
                <td>
                    Name:
                </td>
                <td colspan="5">
                    <input style="width: 100%" type="text" id="ingredient_name" name="ingredient_name" required>
                </td>
            </tr>
            <tr>
                <td>Einkaufsort:</td>
                <td>
                    <select id="location_0" name="location_0" onchange="set_location()" required>
                        <option id="no_location">-- Bitte Ort auswählen --</option>
                        {% for location in locations %}
                        <option value="{{ location.name }}" location_id="{{ location.id }}"
                                id="location_{{ location.id }}">{{ location.name }}
                        </option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <script>
                $("#location_0").find("option:selected")
            </script>
            <tr>
                <td>Sektion</td>
                <td>
                    <select id="section" disabled>
                        <option id="no_section">-- Bitte Sektion auswählen --</option>
                        {% for section in sections %}
                        <option id="section_{{ section.id }}">{{ section.name }}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr>
                <td>Immer auf Einkaufsliste</td>
                <td>
                    <input type="radio" name="alwaysOnList" value="Yes">Ja</input>
                    <input type="radio" name="alwaysOnList" value="No">Nein</input>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="non_food">Non-Food</label>
                    <input type="checkbox" id="non_food" name="non_food">
                </td>
            </tr>
            <tr>
                <td>
                    <button type="button" id="cancel_ingredient" onclick="cancel_close_add_ingredient()">X</button>
                </td>
                <td>
                    <input type="submit" id="confirm_ingredient" onclick="add_ingredient()" value="OK">
                </td>
            </tr>
        </table>
    </div>
</div>

<div id="cover"></div>

{% endblock %}
